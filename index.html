<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Randomized Jackpot (Reinforcement Timing)</title>
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      text-align: center;
      background: radial-gradient(circle at center, #003300 0%, #001a00 100%);
      color: white;
      margin: 0;
      padding: 40px;
    }
    h1 { font-size: 1.8em; margin-bottom: 10px; }
    button {
      background-color: #00cc66;
      border: none;
      color: white;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 10px;
      cursor: pointer;
      margin: 6px;
      transition: 0.15s;
    }
    button:hover { background-color: #00ff88; transform: scale(1.03); }
    #result {
      margin: 30px auto;
      font-size: 2.4em;
      transition: transform 0.25s, color 0.25s;
    }
    .flash { transform: scale(1.4); color: #00ff88; }
    .loss { color: #ff6666; }
    #info {
      font-size: 1.2em;
      margin-top: 20px;
      color: #ffff88;
    }
  </style>
</head>
<body>
  <h1>ðŸŽ° Randomized Jackpot â€” Variable Spin Delay</h1>

  <button id="auto-run">Start Auto Spins</button>
  <button id="stop-run" disabled>Stop</button>

  <div id="info">Press start to run automatic spins.</div>
  <div id="result">ðŸ’°</div>

  <script>
    const resultDiv = document.getElementById("result");
    const infoDiv = document.getElementById("info");
    const startBtn = document.getElementById("auto-run");
    const stopBtn = document.getElementById("stop-run");

    let totalSpins = 0;
    let running = false;
    let cancel = false;

    const payoutTable = [
      { threshold: 1 / 20, value: 13 }, // big win 5%
      { threshold: 3 / 20, value: 3 }   // small win 10%
    ];

    function flashResult(duration = 600) {
      resultDiv.classList.add("flash");
      setTimeout(() => resultDiv.classList.remove("flash"), duration);
    }

    function singleSpin() {
      totalSpins++;
      const rand = Math.random();
      let payout = 0;

      if (rand < payoutTable[0].threshold) payout = payoutTable[0].value;
      else if (rand < payoutTable[1].threshold) payout = payoutTable[1].value;

      infoDiv.textContent = `Spin ${totalSpins}`;

      if (payout > 0) {
        resultDiv.textContent = `$${payout}!`;
        resultDiv.classList.remove("loss");
        flashResult();
      } else {
        resultDiv.textContent = "Try Again!";
        resultDiv.classList.add("loss");
      }
      return payout;
    }

    async function autoRun(spins = 40) {
      running = true;
      cancel = false;
      startBtn.disabled = true;
      stopBtn.disabled = false;

      for (let i = 0; i < spins; i++) {
        if (cancel) break;

        const payout = singleSpin();

        // Variable delay 500â€“700 ms
        let spinDelay = 500 + Math.random() * 200;
        // Add reinforcement pause for wins
        if (payout === 13) spinDelay += 600;
        else if (payout === 3) spinDelay += 400;

        flashResult(spinDelay);
        await new Promise(r => setTimeout(r, spinDelay));
      }

      running = false;
      startBtn.disabled = false;
      stopBtn.disabled = true;
      infoDiv.textContent = cancel ? "Stopped early." : "Session complete.";
    }

    startBtn.addEventListener("click", () => autoRun(40));
    stopBtn.addEventListener("click", () => { cancel = true; });
  </script>
</body>
</html>